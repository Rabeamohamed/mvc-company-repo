@model IEnumerable<EmployeeViewModel>
@{
    ViewData["Title"] = "All Employees";
}

<a asp-action="Create" class="btn btn-success">Add New Employee</a>
<br />

@if (Model.Count() > 0)
{
     <br />
     <h1>Employees</h1>
     <br />

     <form class="row offset-2" asp-action="index" >
        
            <div class="col-8">
                <input class="form-control" type="text" name="SearchValue" placeholder="Employee's Name" />
            </div>

            <div class="col-4">
                <input type="submit" class="btn btn-info" value="Search" />

            </div>
        
     </form>

     <table class="table table-striped table-hover mt-3">
         <thead>
             <tr>
                <td>@Html.DisplayNameFor(D => D.Image)</td>
                <td>@Html.DisplayNameFor(D => D.Name)</td>
                <td>@Html.DisplayNameFor(D => D.Age)</td>
                <td>@Html.DisplayNameFor(D => D.Salary)</td>
                <td>@Html.DisplayNameFor(D => D.Department)</td>
                <td>@Html.DisplayNameFor(D => D.Adress)</td>
                <td>@Html.DisplayNameFor(D => D.Email)</td>
                <td>@Html.DisplayNameFor(D => D.PhoneNumber)</td>
                <td>@Html.DisplayNameFor(D => D.HireDate)</td>
                <td>@Html.DisplayNameFor(D => D.IsActive)</td>
                <td>Details</td>
                <td>Update</td>
                <td>Delete</td>
             </tr>
         </thead>
         <tbody>
             @foreach (var employee in Model)
             {
                 <tr>
                     <td> <img src="~/Files/Images/@employee.ImageName" class="rounded" height="40" width="40" alt="Emp Image" /> </td>
                     <td>@employee.Name </td>
                     <td>@employee.Age </td>
                     <td>@Html.DisplayFor(D => employee.Salary) </td>
                     <td>@Html.DisplayFor(D => employee.Department.Name) </td>
                     <td>@employee.Adress </td>
                     <td>@Html.DisplayFor(D => employee.Email) </td>
                     <td>@employee.PhoneNumber </td>
                     <td>@employee.HireDate </td>
                     <td>
                         @if(employee.IsActive == true)
                         {
                             <i class="fa-solid fa-circle" style="color : green"></i>
                         }
                         else
                        {
                            <i class="fa-solid fa-circle" style="color : red"></i>
                        }
                     </td>
                     
                     <partial name="_ButtonPartialView" model="@employee.Id.ToString()" />

                 </tr>
             }
         </tbody>
     </table>

}
else
{
    <div class="mt-5 alert alert-warning">
        <h3> There Is No Employees</h3>
    </div>
}
